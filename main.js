!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=36)}([function(e,t){e.exports={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4}},function(e,t){function n(e){for(var t=[[e.x,e.y]];e.parent;)e=e.parent,t.push([e.x,e.y]);return t.reverse()}function r(e,t,n,r){var o,i,a,s,l,c,u=Math.abs,d=[];for(o=e<n?1:-1,i=t<r?1:-1,l=(a=u(n-e))-(s=u(r-t));d.push([e,t]),e!==n||t!==r;)(c=2*l)>-s&&(l-=s,e+=o),c<a&&(l+=a,t+=i);return d}t.backtrace=n,t.biBacktrace=function(e,t){var r=n(e),o=n(t);return r.concat(o.reverse())},t.pathLength=function(e){var t,n,r,o,i,a=0;for(t=1;t<e.length;++t)n=e[t-1],r=e[t],o=n[0]-r[0],i=n[1]-r[1],a+=Math.sqrt(o*o+i*i);return a},t.interpolate=r,t.expandPath=function(e){var t,n,o,i,a,s,l=[],c=e.length;if(c<2)return l;for(a=0;a<c-1;++a)for(t=e[a],n=e[a+1],i=(o=r(t[0],t[1],n[0],n[1])).length,s=0;s<i-1;++s)l.push(o[s]);return l.push(e[c-1]),l},t.smoothenPath=function(e,t){var n,o,i,a,s,l,c,u,d,p=t.length,h=t[0][0],f=t[0][1],g=t[p-1][0],b=t[p-1][1];for(i=[[n=h,o=f]],a=2;a<p;++a){for(c=r(n,o,(l=t[a])[0],l[1]),d=!1,s=1;s<c.length;++s)if(u=c[s],!e.isWalkableAt(u[0],u[1])){d=!0;break}d&&(lastValidCoord=t[a-1],i.push(lastValidCoord),n=lastValidCoord[0],o=lastValidCoord[1])}return i.push([g,b]),i},t.compressPath=function(e){if(e.length<3)return e;var t,n,r,o,i,a,s=[],l=e[0][0],c=e[0][1],u=e[1][0],d=e[1][1],p=u-l,h=d-c;for(p/=i=Math.sqrt(p*p+h*h),h/=i,s.push([l,c]),a=2;a<e.length;a++)t=u,n=d,r=p,o=h,p=(u=e[a][0])-t,h=(d=e[a][1])-n,h/=i=Math.sqrt(p*p+h*h),(p/=i)===r&&h===o||s.push([t,n]);return s.push([u,d]),s}},function(e,t){e.exports={manhattan:function(e,t){return e+t},euclidean:function(e,t){return Math.sqrt(e*e+t*t)},octile:function(e,t){var n=Math.SQRT2-1;return e<t?n*e+t:n*t+e},chebyshev:function(e,t){return Math.max(e,t)}}},function(e,t,n){e.exports=n(13)},function(e,t,n){var r=n(3),o=n(1),i=n(2);n(0);function a(e){e=e||{},this.heuristic=e.heuristic||i.manhattan,this.trackJumpRecursion=e.trackJumpRecursion||!1}a.prototype.findPath=function(e,t,n,i,a){var s,l=this.openList=new r((function(e,t){return e.f-t.f})),c=this.startNode=a.getNodeAt(e,t),u=this.endNode=a.getNodeAt(n,i);for(this.grid=a,c.g=0,c.f=0,l.push(c),c.opened=!0;!l.empty();){if((s=l.pop()).closed=!0,s===u)return o.expandPath(o.backtrace(u));this._identifySuccessors(s)}return[]},a.prototype._identifySuccessors=function(e){var t,n,r,o,a,s,l,c,u,d,p=this.grid,h=this.heuristic,f=this.openList,g=this.endNode.x,b=this.endNode.y,m=e.x,y=e.y,v=Math.abs;Math.max;for(o=0,a=(t=this._findNeighbors(e)).length;o<a;++o)if(n=t[o],r=this._jump(n[0],n[1],m,y)){if(s=r[0],l=r[1],(d=p.getNodeAt(s,l)).closed)continue;c=i.octile(v(s-m),v(l-y)),u=e.g+c,(!d.opened||u<d.g)&&(d.g=u,d.h=d.h||h(v(s-g),v(l-b)),d.f=d.g+d.h,d.parent=e,d.opened?f.updateItem(d):(f.push(d),d.opened=!0))}},e.exports=a},function(e,t){e.exports=function(e,t,n){this.x=e,this.y=t,this.walkable=void 0===n||n}},function(e,t,n){var r=n(3),o=n(1),i=n(2),a=n(0);function s(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.heuristic=e.heuristic||i.manhattan,this.weight=e.weight||1,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=e.heuristic||i.manhattan:this.heuristic=e.heuristic||i.octile}s.prototype.findPath=function(e,t,n,i,a){var s,l,c,u,d,p,h,f,g=new r((function(e,t){return e.f-t.f})),b=a.getNodeAt(e,t),m=a.getNodeAt(n,i),y=this.heuristic,v=this.diagonalMovement,w=this.weight,k=Math.abs,x=Math.SQRT2;for(b.g=0,b.f=0,g.push(b),b.opened=!0;!g.empty();){if((s=g.pop()).closed=!0,s===m)return o.backtrace(m);for(u=0,d=(l=a.getNeighbors(s,v)).length;u<d;++u)(c=l[u]).closed||(p=c.x,h=c.y,f=s.g+(p-s.x==0||h-s.y==0?1:x),(!c.opened||f<c.g)&&(c.g=f,c.h=c.h||w*y(k(p-n),k(h-i)),c.f=c.g+c.h,c.parent=s,c.opened?g.updateItem(c):(g.push(c),c.opened=!0)))}return[]},e.exports=s},function(e,t,n){var r=n(3),o=n(1),i=n(2),a=n(0);function s(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.heuristic=e.heuristic||i.manhattan,this.weight=e.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=e.heuristic||i.manhattan:this.heuristic=e.heuristic||i.octile}s.prototype.findPath=function(e,t,n,i,a){var s,l,c,u,d,p,h,f,g=function(e,t){return e.f-t.f},b=new r(g),m=new r(g),y=a.getNodeAt(e,t),v=a.getNodeAt(n,i),w=this.heuristic,k=this.diagonalMovement,x=this.weight,A=Math.abs,C=Math.SQRT2;for(y.g=0,y.f=0,b.push(y),y.opened=1,v.g=0,v.f=0,m.push(v),v.opened=2;!b.empty()&&!m.empty();){for((s=b.pop()).closed=!0,u=0,d=(l=a.getNeighbors(s,k)).length;u<d;++u)if(!(c=l[u]).closed){if(2===c.opened)return o.biBacktrace(s,c);p=c.x,h=c.y,f=s.g+(p-s.x==0||h-s.y==0?1:C),(!c.opened||f<c.g)&&(c.g=f,c.h=c.h||x*w(A(p-n),A(h-i)),c.f=c.g+c.h,c.parent=s,c.opened?b.updateItem(c):(b.push(c),c.opened=1))}for((s=m.pop()).closed=!0,u=0,d=(l=a.getNeighbors(s,k)).length;u<d;++u)if(!(c=l[u]).closed){if(1===c.opened)return o.biBacktrace(c,s);p=c.x,h=c.y,f=s.g+(p-s.x==0||h-s.y==0?1:C),(!c.opened||f<c.g)&&(c.g=f,c.h=c.h||x*w(A(p-e),A(h-t)),c.f=c.g+c.h,c.parent=s,c.opened?m.updateItem(c):(m.push(c),c.opened=2))}}return[]},e.exports=s},function(e,t,n){"use strict";n.r(t),t.default=n.p+"2fdaf143941971bd538a11b23c2f8785.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"2dca45ff614b23949dcb8a59f69c91e2.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"8836d2b5fc161ecae9c228e4249f84d3.svg"},function(e,t,n){e.exports=n(12)},function(e,t,n){e.exports={Heap:n(3),Node:n(5),Grid:n(15),Util:n(1),DiagonalMovement:n(0),Heuristic:n(2),AStarFinder:n(6),BestFirstFinder:n(16),BreadthFirstFinder:n(17),DijkstraFinder:n(18),BiAStarFinder:n(7),BiBestFirstFinder:n(19),BiBreadthFirstFinder:n(20),BiDijkstraFinder:n(21),IDAStarFinder:n(22),JumpPointFinder:n(23)}},function(e,t,n){(function(e){(function(){var t,n,r,o,i,a,s,l,c,u,d,p,h,f,g;r=Math.floor,u=Math.min,n=function(e,t){return e<t?-1:e>t?1:0},c=function(e,t,o,i,a){var s;if(null==o&&(o=0),null==a&&(a=n),o<0)throw new Error("lo must be non-negative");for(null==i&&(i=e.length);o<i;)a(t,e[s=r((o+i)/2)])<0?i=s:o=s+1;return[].splice.apply(e,[o,o-o].concat(t)),t},a=function(e,t,r){return null==r&&(r=n),e.push(t),f(e,0,e.length-1,r)},i=function(e,t){var r,o;return null==t&&(t=n),r=e.pop(),e.length?(o=e[0],e[0]=r,g(e,0,t)):o=r,o},l=function(e,t,r){var o;return null==r&&(r=n),o=e[0],e[0]=t,g(e,0,r),o},s=function(e,t,r){var o;return null==r&&(r=n),e.length&&r(e[0],t)<0&&(t=(o=[e[0],t])[0],e[0]=o[1],g(e,0,r)),t},o=function(e,t){var o,i,a,s,l,c;for(null==t&&(t=n),l=[],i=0,a=(s=function(){c=[];for(var t=0,n=r(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)c.push(t);return c}.apply(this).reverse()).length;i<a;i++)o=s[i],l.push(g(e,o,t));return l},h=function(e,t,r){var o;if(null==r&&(r=n),-1!==(o=e.indexOf(t)))return f(e,0,o,r),g(e,o,r)},d=function(e,t,r){var i,a,l,c,u;if(null==r&&(r=n),!(a=e.slice(0,t)).length)return a;for(o(a,r),l=0,c=(u=e.slice(t)).length;l<c;l++)i=u[l],s(a,i,r);return a.sort(r).reverse()},p=function(e,t,r){var a,s,l,d,p,h,f,g,b;if(null==r&&(r=n),10*t<=e.length){if(!(l=e.slice(0,t).sort(r)).length)return l;for(s=l[l.length-1],d=0,h=(f=e.slice(t)).length;d<h;d++)r(a=f[d],s)<0&&(c(l,a,0,null,r),l.pop(),s=l[l.length-1]);return l}for(o(e,r),b=[],p=0,g=u(t,e.length);0<=g?p<g:p>g;0<=g?++p:--p)b.push(i(e,r));return b},f=function(e,t,r,o){var i,a,s;for(null==o&&(o=n),i=e[r];r>t&&o(i,a=e[s=r-1>>1])<0;)e[r]=a,r=s;return e[r]=i},g=function(e,t,r){var o,i,a,s,l;for(null==r&&(r=n),i=e.length,l=t,a=e[t],o=2*t+1;o<i;)(s=o+1)<i&&!(r(e[o],e[s])<0)&&(o=s),e[t]=e[o],o=2*(t=o)+1;return e[t]=a,f(e,l,t,r)},t=function(){function e(e){this.cmp=null!=e?e:n,this.nodes=[]}return e.push=a,e.pop=i,e.replace=l,e.pushpop=s,e.heapify=o,e.updateItem=h,e.nlargest=d,e.nsmallest=p,e.prototype.push=function(e){return a(this.nodes,e,this.cmp)},e.prototype.pop=function(){return i(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return l(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return s(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return o(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return h(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),(null!==e?e.exports:void 0)?e.exports=t:window.Heap=t}).call(this)}).call(this,n(14)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(5),o=n(0);function i(e,t,n){var r;"object"!=typeof e?r=e:(t=e.length,r=e[0].length,n=e),this.width=r,this.height=t,this.nodes=this._buildNodes(r,t,n)}i.prototype._buildNodes=function(e,t,n){var o,i,a=new Array(t);for(o=0;o<t;++o)for(a[o]=new Array(e),i=0;i<e;++i)a[o][i]=new r(i,o);if(void 0===n)return a;if(n.length!==t||n[0].length!==e)throw new Error("Matrix size does not fit");for(o=0;o<t;++o)for(i=0;i<e;++i)n[o][i]&&(a[o][i].walkable=!1);return a},i.prototype.getNodeAt=function(e,t){return this.nodes[t][e]},i.prototype.isWalkableAt=function(e,t){return this.isInside(e,t)&&this.nodes[t][e].walkable},i.prototype.isInside=function(e,t){return e>=0&&e<this.width&&t>=0&&t<this.height},i.prototype.setWalkableAt=function(e,t,n){this.nodes[t][e].walkable=n},i.prototype.getNeighbors=function(e,t){var n=e.x,r=e.y,i=[],a=!1,s=!1,l=!1,c=!1,u=!1,d=!1,p=!1,h=!1,f=this.nodes;if(this.isWalkableAt(n,r-1)&&(i.push(f[r-1][n]),a=!0),this.isWalkableAt(n+1,r)&&(i.push(f[r][n+1]),l=!0),this.isWalkableAt(n,r+1)&&(i.push(f[r+1][n]),u=!0),this.isWalkableAt(n-1,r)&&(i.push(f[r][n-1]),p=!0),t===o.Never)return i;if(t===o.OnlyWhenNoObstacles)s=p&&a,c=a&&l,d=l&&u,h=u&&p;else if(t===o.IfAtMostOneObstacle)s=p||a,c=a||l,d=l||u,h=u||p;else{if(t!==o.Always)throw new Error("Incorrect value of diagonalMovement");s=!0,c=!0,d=!0,h=!0}return s&&this.isWalkableAt(n-1,r-1)&&i.push(f[r-1][n-1]),c&&this.isWalkableAt(n+1,r-1)&&i.push(f[r-1][n+1]),d&&this.isWalkableAt(n+1,r+1)&&i.push(f[r+1][n+1]),h&&this.isWalkableAt(n-1,r+1)&&i.push(f[r+1][n-1]),i},i.prototype.clone=function(){var e,t,n=this.width,o=this.height,a=this.nodes,s=new i(n,o),l=new Array(o);for(e=0;e<o;++e)for(l[e]=new Array(n),t=0;t<n;++t)l[e][t]=new r(t,e,a[e][t].walkable);return s.nodes=l,s},e.exports=i},function(e,t,n){var r=n(6);function o(e){r.call(this,e);var t=this.heuristic;this.heuristic=function(e,n){return 1e6*t(e,n)}}o.prototype=new r,o.prototype.constructor=o,e.exports=o},function(e,t,n){var r=n(1),o=n(0);function i(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never)}i.prototype.findPath=function(e,t,n,o,i){var a,s,l,c,u,d=[],p=this.diagonalMovement,h=i.getNodeAt(e,t),f=i.getNodeAt(n,o);for(d.push(h),h.opened=!0;d.length;){if((l=d.shift()).closed=!0,l===f)return r.backtrace(f);for(c=0,u=(a=i.getNeighbors(l,p)).length;c<u;++c)(s=a[c]).closed||s.opened||(d.push(s),s.opened=!0,s.parent=l)}return[]},e.exports=i},function(e,t,n){var r=n(6);function o(e){r.call(this,e),this.heuristic=function(e,t){return 0}}o.prototype=new r,o.prototype.constructor=o,e.exports=o},function(e,t,n){var r=n(7);function o(e){r.call(this,e);var t=this.heuristic;this.heuristic=function(e,n){return 1e6*t(e,n)}}o.prototype=new r,o.prototype.constructor=o,e.exports=o},function(e,t,n){var r=n(1),o=n(0);function i(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never)}i.prototype.findPath=function(e,t,n,o,i){var a,s,l,c,u,d=i.getNodeAt(e,t),p=i.getNodeAt(n,o),h=[],f=[],g=this.diagonalMovement;for(h.push(d),d.opened=!0,d.by=0,f.push(p),p.opened=!0,p.by=1;h.length&&f.length;){for((l=h.shift()).closed=!0,c=0,u=(a=i.getNeighbors(l,g)).length;c<u;++c)if(!(s=a[c]).closed)if(s.opened){if(1===s.by)return r.biBacktrace(l,s)}else h.push(s),s.parent=l,s.opened=!0,s.by=0;for((l=f.shift()).closed=!0,c=0,u=(a=i.getNeighbors(l,g)).length;c<u;++c)if(!(s=a[c]).closed)if(s.opened){if(0===s.by)return r.biBacktrace(s,l)}else f.push(s),s.parent=l,s.opened=!0,s.by=1}return[]},e.exports=i},function(e,t,n){var r=n(7);function o(e){r.call(this,e),this.heuristic=function(e,t){return 0}}o.prototype=new r,o.prototype.constructor=o,e.exports=o},function(e,t,n){n(1);var r=n(2),o=n(5),i=n(0);function a(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.heuristic=e.heuristic||r.manhattan,this.weight=e.weight||1,this.trackRecursion=e.trackRecursion||!1,this.timeLimit=e.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=i.OnlyWhenNoObstacles:this.diagonalMovement=i.IfAtMostOneObstacle:this.diagonalMovement=i.Never),this.diagonalMovement===i.Never?this.heuristic=e.heuristic||r.manhattan:this.heuristic=e.heuristic||r.octile}a.prototype.findPath=function(e,t,n,r,i){var a,s,l,c=(new Date).getTime(),u=function(e,t){return this.heuristic(Math.abs(t.x-e.x),Math.abs(t.y-e.y))}.bind(this),d=function(e,t,n,r,a){if(this.timeLimit>0&&(new Date).getTime()-c>1e3*this.timeLimit)return 1/0;var s,l,p,f,g=t+u(e,h)*this.weight;if(g>n)return g;if(e==h)return r[a]=[e.x,e.y],e;var b,m,y=i.getNeighbors(e,this.diagonalMovement);for(p=0,s=1/0;f=y[p];++p){if(this.trackRecursion&&(f.retainCount=f.retainCount+1||1,!0!==f.tested&&(f.tested=!0)),(l=d(f,t+(m=f,(b=e).x===m.x||b.y===m.y?1:Math.SQRT2),n,r,a+1))instanceof o)return r[a]=[e.x,e.y],l;this.trackRecursion&&0==--f.retainCount&&(f.tested=!1),l<s&&(s=l)}return s}.bind(this),p=i.getNodeAt(e,t),h=i.getNodeAt(n,r),f=u(p,h);for(a=0;;++a){if((l=d(p,0,f,s=[],0))===1/0)return[];if(l instanceof o)return s;f=l}return[]},e.exports=a},function(e,t,n){var r=n(0),o=n(24),i=n(25),a=n(26),s=n(27);e.exports=function(e){return(e=e||{}).diagonalMovement===r.Never?new o(e):e.diagonalMovement===r.Always?new i(e):e.diagonalMovement===r.OnlyWhenNoObstacles?new a(e):new s(e)}},function(e,t,n){var r=n(4),o=n(0);function i(e){r.call(this,e)}i.prototype=new r,i.prototype.constructor=i,i.prototype._jump=function(e,t,n,r){var o=this.grid,i=e-n,a=t-r;if(!o.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(e,t).tested=!0),o.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==i){if(o.isWalkableAt(e,t-1)&&!o.isWalkableAt(e-i,t-1)||o.isWalkableAt(e,t+1)&&!o.isWalkableAt(e-i,t+1))return[e,t]}else{if(0===a)throw new Error("Only horizontal and vertical movements are allowed");if(o.isWalkableAt(e-1,t)&&!o.isWalkableAt(e-1,t-a)||o.isWalkableAt(e+1,t)&&!o.isWalkableAt(e+1,t-a))return[e,t];if(this._jump(e+1,t,e,t)||this._jump(e-1,t,e,t))return[e,t]}return this._jump(e+i,t+a,e,t)},i.prototype._findNeighbors=function(e){var t,n,r,i,a,s,l,c,u=e.parent,d=e.x,p=e.y,h=this.grid,f=[];if(u)t=u.x,n=u.y,r=(d-t)/Math.max(Math.abs(d-t),1),i=(p-n)/Math.max(Math.abs(p-n),1),0!==r?(h.isWalkableAt(d,p-1)&&f.push([d,p-1]),h.isWalkableAt(d,p+1)&&f.push([d,p+1]),h.isWalkableAt(d+r,p)&&f.push([d+r,p])):0!==i&&(h.isWalkableAt(d-1,p)&&f.push([d-1,p]),h.isWalkableAt(d+1,p)&&f.push([d+1,p]),h.isWalkableAt(d,p+i)&&f.push([d,p+i]));else for(l=0,c=(a=h.getNeighbors(e,o.Never)).length;l<c;++l)s=a[l],f.push([s.x,s.y]);return f},e.exports=i},function(e,t,n){var r=n(4),o=n(0);function i(e){r.call(this,e)}i.prototype=new r,i.prototype.constructor=i,i.prototype._jump=function(e,t,n,r){var o=this.grid,i=e-n,a=t-r;if(!o.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(e,t).tested=!0),o.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==i&&0!==a){if(o.isWalkableAt(e-i,t+a)&&!o.isWalkableAt(e-i,t)||o.isWalkableAt(e+i,t-a)&&!o.isWalkableAt(e,t-a))return[e,t];if(this._jump(e+i,t,e,t)||this._jump(e,t+a,e,t))return[e,t]}else if(0!==i){if(o.isWalkableAt(e+i,t+1)&&!o.isWalkableAt(e,t+1)||o.isWalkableAt(e+i,t-1)&&!o.isWalkableAt(e,t-1))return[e,t]}else if(o.isWalkableAt(e+1,t+a)&&!o.isWalkableAt(e+1,t)||o.isWalkableAt(e-1,t+a)&&!o.isWalkableAt(e-1,t))return[e,t];return this._jump(e+i,t+a,e,t)},i.prototype._findNeighbors=function(e){var t,n,r,i,a,s,l,c,u=e.parent,d=e.x,p=e.y,h=this.grid,f=[];if(u)t=u.x,n=u.y,r=(d-t)/Math.max(Math.abs(d-t),1),i=(p-n)/Math.max(Math.abs(p-n),1),0!==r&&0!==i?(h.isWalkableAt(d,p+i)&&f.push([d,p+i]),h.isWalkableAt(d+r,p)&&f.push([d+r,p]),h.isWalkableAt(d+r,p+i)&&f.push([d+r,p+i]),h.isWalkableAt(d-r,p)||f.push([d-r,p+i]),h.isWalkableAt(d,p-i)||f.push([d+r,p-i])):0===r?(h.isWalkableAt(d,p+i)&&f.push([d,p+i]),h.isWalkableAt(d+1,p)||f.push([d+1,p+i]),h.isWalkableAt(d-1,p)||f.push([d-1,p+i])):(h.isWalkableAt(d+r,p)&&f.push([d+r,p]),h.isWalkableAt(d,p+1)||f.push([d+r,p+1]),h.isWalkableAt(d,p-1)||f.push([d+r,p-1]));else for(l=0,c=(a=h.getNeighbors(e,o.Always)).length;l<c;++l)s=a[l],f.push([s.x,s.y]);return f},e.exports=i},function(e,t,n){var r=n(4),o=n(0);function i(e){r.call(this,e)}i.prototype=new r,i.prototype.constructor=i,i.prototype._jump=function(e,t,n,r){var o=this.grid,i=e-n,a=t-r;if(!o.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(e,t).tested=!0),o.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==i&&0!==a){if(this._jump(e+i,t,e,t)||this._jump(e,t+a,e,t))return[e,t]}else if(0!==i){if(o.isWalkableAt(e,t-1)&&!o.isWalkableAt(e-i,t-1)||o.isWalkableAt(e,t+1)&&!o.isWalkableAt(e-i,t+1))return[e,t]}else if(0!==a&&(o.isWalkableAt(e-1,t)&&!o.isWalkableAt(e-1,t-a)||o.isWalkableAt(e+1,t)&&!o.isWalkableAt(e+1,t-a)))return[e,t];return o.isWalkableAt(e+i,t)&&o.isWalkableAt(e,t+a)?this._jump(e+i,t+a,e,t):null},i.prototype._findNeighbors=function(e){var t,n,r,i,a,s,l,c,u,d=e.parent,p=e.x,h=e.y,f=this.grid,g=[];if(d){if(t=d.x,n=d.y,r=(p-t)/Math.max(Math.abs(p-t),1),i=(h-n)/Math.max(Math.abs(h-n),1),0!==r&&0!==i)f.isWalkableAt(p,h+i)&&g.push([p,h+i]),f.isWalkableAt(p+r,h)&&g.push([p+r,h]),f.isWalkableAt(p,h+i)&&f.isWalkableAt(p+r,h)&&g.push([p+r,h+i]);else if(0!==r){u=f.isWalkableAt(p+r,h);var b=f.isWalkableAt(p,h+1),m=f.isWalkableAt(p,h-1);u&&(g.push([p+r,h]),b&&g.push([p+r,h+1]),m&&g.push([p+r,h-1])),b&&g.push([p,h+1]),m&&g.push([p,h-1])}else if(0!==i){u=f.isWalkableAt(p,h+i);var y=f.isWalkableAt(p+1,h),v=f.isWalkableAt(p-1,h);u&&(g.push([p,h+i]),y&&g.push([p+1,h+i]),v&&g.push([p-1,h+i])),y&&g.push([p+1,h]),v&&g.push([p-1,h])}}else for(l=0,c=(a=f.getNeighbors(e,o.OnlyWhenNoObstacles)).length;l<c;++l)s=a[l],g.push([s.x,s.y]);return g},e.exports=i},function(e,t,n){var r=n(4),o=n(0);function i(e){r.call(this,e)}i.prototype=new r,i.prototype.constructor=i,i.prototype._jump=function(e,t,n,r){var o=this.grid,i=e-n,a=t-r;if(!o.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(e,t).tested=!0),o.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==i&&0!==a){if(o.isWalkableAt(e-i,t+a)&&!o.isWalkableAt(e-i,t)||o.isWalkableAt(e+i,t-a)&&!o.isWalkableAt(e,t-a))return[e,t];if(this._jump(e+i,t,e,t)||this._jump(e,t+a,e,t))return[e,t]}else if(0!==i){if(o.isWalkableAt(e+i,t+1)&&!o.isWalkableAt(e,t+1)||o.isWalkableAt(e+i,t-1)&&!o.isWalkableAt(e,t-1))return[e,t]}else if(o.isWalkableAt(e+1,t+a)&&!o.isWalkableAt(e+1,t)||o.isWalkableAt(e-1,t+a)&&!o.isWalkableAt(e-1,t))return[e,t];return o.isWalkableAt(e+i,t)||o.isWalkableAt(e,t+a)?this._jump(e+i,t+a,e,t):null},i.prototype._findNeighbors=function(e){var t,n,r,i,a,s,l,c,u=e.parent,d=e.x,p=e.y,h=this.grid,f=[];if(u)t=u.x,n=u.y,r=(d-t)/Math.max(Math.abs(d-t),1),i=(p-n)/Math.max(Math.abs(p-n),1),0!==r&&0!==i?(h.isWalkableAt(d,p+i)&&f.push([d,p+i]),h.isWalkableAt(d+r,p)&&f.push([d+r,p]),(h.isWalkableAt(d,p+i)||h.isWalkableAt(d+r,p))&&f.push([d+r,p+i]),!h.isWalkableAt(d-r,p)&&h.isWalkableAt(d,p+i)&&f.push([d-r,p+i]),!h.isWalkableAt(d,p-i)&&h.isWalkableAt(d+r,p)&&f.push([d+r,p-i])):0===r?h.isWalkableAt(d,p+i)&&(f.push([d,p+i]),h.isWalkableAt(d+1,p)||f.push([d+1,p+i]),h.isWalkableAt(d-1,p)||f.push([d-1,p+i])):h.isWalkableAt(d+r,p)&&(f.push([d+r,p]),h.isWalkableAt(d,p+1)||f.push([d+r,p+1]),h.isWalkableAt(d,p-1)||f.push([d+r,p-1]));else for(l=0,c=(a=h.getNeighbors(e,o.IfAtMostOneObstacle)).length;l<c;++l)s=a[l],f.push([s.x,s.y]);return f},e.exports=i},function(e,t,n){var r=n(29),o=n(30);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});e.exports=a},function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],l=t.base?i[0]+t.base:i[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=s(u),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:u,updater:b(p,t),references:1}),r.push(u)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function h(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,g=0;function b(e,t){var n,r,o;if(t.singleton){var i=g++;n=f||(f=c(t)),r=p.bind(null,n,i,!1),o=p.bind(null,n,i,!0)}else n=c(t),r=h.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=s(n[r]);a[o].references--}for(var i=l(e,t),c=0;c<n.length;c++){var u=s(n[c]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=i}}}},function(e,t,n){var r=n(31),o=n(32),i=n(8),a=n(9),s=n(10),l=n(33),c=n(34),u=n(35);t=r(!1);var d=o(i),p=o(a),h=o(s),f=o(l),g=o(c),b=o(u);t.push([e.i,"*{box-sizing:border-box;-webkit-user-select:none;-webkit-touch-callout:none !important;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:monospace, sans-serif;touch-action:manipulation}html,body{height:100%}body{margin:0;overflow:hidden;font-family:monospace, sans-serif}.hidden{display:none;opacity:0;transition:display 0s linear 300ms, opacity 300ms}.show{display:block;opacity:1;transition:display 0s linear 0s, opacity 300ms}.container{margin:10vh auto 1vh;max-width:70vw;height:40vh;perspective:10px;perspective-origin:top}button{background-color:#dc4c4e;border:none;border-radius:0.75rem;padding:1.5rem;color:white;font-weight:bold;position:relative;font-size:1.5rem;text-shadow:0.0625rem 0.0625rem 0.125rem #000}button::before{content:'';position:absolute;top:0.1875rem;left:0.1875rem;right:0.1875rem;bottom:0.1875rem;border-radius:0.4375rem;border-top:0.0625rem solid #d83739;border-left:0.0625rem solid #d83739;border-right:0.0625rem solid #d83739;border-bottom:0.125rem solid #d83739}button:focus{outline:none;background-color:#d83739}button:focus::before{border-color:#cd282a}button.button-start,button.button-uitleg{position:absolute;bottom:2%;right:10%}button.blue{background-color:#1659bb}button.blue::before{border-color:#134ea4}button.blue:focus{background-color:#134ea4}button.blue:focus::before{border-color:#10438d}.home{max-width:600px;height:100%;margin:0 auto}.home .main .text{max-width:60%;position:absolute;top:50%;transform:translateY(-50%);text-transform:uppercase;color:#f0c;font-size:5em;text-align:center;text-shadow:0 0 2px rgba(255,255,255,0.8),0 0 8px rgba(255,255,255,0.8),0 0 10px rgba(255,255,255,0.8),0 0 20px rgba(255,255,0,0.8),0 0 30px rgba(255,255,0,0.8),0 0 40px rgba(255,255,0,0.8),0 0 50px rgba(255,255,0,0.5),0 0 80px rgba(255,255,0,0.5)}.home .main .content{height:100%;overflow:hidden;background-color:#fc0;margin:0 auto;position:relative}.home .main .borders{width:150%;height:150%;margin-top:-30%;overflow:hidden;background-color:#f0c;opacity:0.3;transform:rotate(15deg);border-radius:50%;box-shadow:-1px -1px 5px 0px rgba(255,0,204,0.75),-7px -7px 5px 0px rgba(255,255,255,0.75),-10px -10px 5px 0px rgba(255,0,204,0.75),-16px -16px 5px 0px rgba(255,255,255,0.75),-20px -20px 5px 0px rgba(255,0,204,0.75),1px 1px 5px 0px rgba(255,0,204,0.75),7px 7px 5px 0px rgba(255,255,255,0.75),10px 10px 5px 0px rgba(255,0,204,0.75),16px 16px 5px 0px rgba(255,255,255,0.75),20px 20px 5px 0px rgba(255,0,204,0.75)}.home .main .borders::after{content:'';top:0;transform:translateX(100%);width:500px;height:900px;position:absolute;z-index:1;background:linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.8) 50%, rgba(255,0,204,0) 99%, rgba(255,0,204,0) 100%)}.home.pattern{width:100%;height:100%;position:relative;overflow:hidden}.home.pattern::before{-webkit-backface-visibility:hidden;content:'';position:absolute;width:200%;height:200%;top:-50%;left:-50%;z-index:-1;transform:rotate(30deg);background-color:#dc4c4e;background-image:linear-gradient(45deg, #1659bb 25%, transparent 25%, transparent 75%, #1659bb 75%),linear-gradient(45deg, #1659bb 25%, transparent 25%, transparent 75%, #1659bb 75%);background-size:100px 100px;background-position:0 0, 50px 50px}.home.pattern::after{content:'';position:absolute;width:200%;height:200%;top:-50%;left:-50%;z-index:-1;transform:rotate(30deg);background:linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.8) 50%, rgba(255,255,255,0) 100%)}.home.pattern .text{margin:0 auto;text-align:center;font-size:5rem;line-height:0.9;text-shadow:0.125rem 0.125rem 0.75rem #dc4c4e;color:#1659bb}.home.pattern .info{width:80%;margin:0 auto;font-size:2rem;line-height:1.2;text-shadow:0.125rem 0.125rem 0.75rem #dc4c4e;color:#1659bb}.home.pattern .info .player-selector{display:inline-block;-webkit-appearance:none;appearance:none;vertical-align:middle;border:1px solid #222;background:transparent;width:50px;height:80px;background-image:url("+d+");background-repeat:no-repeat;background-position:center center;background-size:cover;opacity:0.5}.home.pattern .info .player-selector.good-girl{background-image:url("+p+")}.home.pattern .info .player-selector.bad-guy{border:none;opacity:1;background-image:url("+h+")}.home.pattern .info .player-selector:checked{opacity:1;border:1px solid black}.grid{background-color:#555;display:flex;flex-direction:column;height:100%;transform:rotateX(1deg);-webkit-box-shadow:0px 1px 9px 4px rgba(0,0,0,0.26);-moz-box-shadow:0px 1px 9px 4px rgba(0,0,0,0.26);box-shadow:0px 1px 9px 4px rgba(0,0,0,0.26)}.grid .row{flex:1;display:flex;flex-direction:row;background-color:#999;transition:opacity 0.5s ease-out;opacity:1}.grid .row .column{flex:1;display:flex;flex-direction:row;justify-content:center;align-items:center;position:relative;border:1px solid #30cbf2;background-image:-webkit-radial-gradient(center, ellipse cover, #30cbf2 0%, #fff 34%, #30cbf2 64%, #fff 100%);transition:background-color 0.5s ease-out}.grid .row .column.selected{background-image:-webkit-radial-gradient(center, ellipse cover, #f2d530 0%, #fff 34%, #f2d530 64%, #fff 100%)}.grid .row .column.selected::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;border:4px dashed #ffffff}.grid .row .column.dead{background-image:url("+f+"),radial-gradient(ellipse at center, #9b1f7a 0%, #6d155d 34%, #aa2071 64%, #301a27 100%);background-repeat:no-repeat;background-position:center center;background-size:contain;background-color:#9b1f7a}.grid .row .column.border-right::after{position:absolute;right:-2px;bottom:0;content:' ';display:block;width:6px;height:100%;background:linear-gradient(to bottom, yellow 10%, black 10%, black 20%, yellow 20%, yellow 30%, black 30%, black 40%, yellow 40%, yellow 50%, black 50%, black 60%, yellow 60%, yellow 70%, black 70%, black 80%, yellow 80%, yellow 90%, black 90%)}.grid .row .column.border-bottom::after{position:absolute;left:0;bottom:-2px;content:' ';display:block;width:100%;height:6px;background:linear-gradient(to right, yellow 10%, black 10%, black 20%, yellow 20%, yellow 30%, black 30%, black 40%, yellow 40%, yellow 50%, black 50%, black 60%, yellow 60%, yellow 70%, black 70%, black 80%, yellow 80%, yellow 90%, black 90%)}.grid .row .column.trap::before,.grid .row .column.trap::after{content:'';display:block;position:absolute;left:0;width:100%;height:0%;background-color:rgba(0,0,0,0.7);transition:height 1s linear}.grid .row .column.trap::before{top:0}.grid .row .column.trap::after{bottom:0}.grid .row .column.trap.close::before,.grid .row .column.trap.close::after{height:50%;transition:height 0.5s linear}.grid .row .column.trap.border-right::after,.grid .row .column.trap.border-bottom::after{background:none;background-color:rgba(0,0,0,0.7)}.level-alt1 .grid .row .column{border:1px solid #f2a430;background-image:-webkit-radial-gradient(center, ellipse cover, #f2a430 0%, #fff 34%, #f2a430 64%, #fff 100%)}.level-alt1 .grid .row .column.selected{background-image:-webkit-radial-gradient(center, ellipse cover, #7672f3 0%, #fff 34%, #7672f3 64%, #fff 100%)}.level-alt1 .grid .row .column.dead{background-image:url("+f+"),radial-gradient(ellipse at center, #9b1f7a 0%, #6d155d 34%, #aa2071 64%, #301a27 100%);background-repeat:no-repeat;background-position:center center;background-size:contain;background-color:#9b1f7a}.level-alt2 .grid .row .column{border:1px solid #4fec87;background-image:-webkit-radial-gradient(center, ellipse cover, #4fec87 0%, #fff 34%, #4fec87 64%, #fff 100%)}.level-alt2 .grid .row .column.selected{background-image:-webkit-radial-gradient(center, ellipse cover, #f372a5 0%, #fff 34%, #f372a5 64%, #fff 100%)}.level-alt2 .grid .row .column.dead{background-image:url("+f+"),radial-gradient(ellipse at center, #9b1f7a 0%, #6d155d 34%, #aa2071 64%, #301a27 100%);background-repeat:no-repeat;background-position:center center;background-size:contain;background-color:#9b1f7a}.level-alt3 .grid .row .column{background-image:linear-gradient(45deg, #134ea4, #dc4c4e, #e6bc24, #1a9765);border:0.1em solid;border-color:#134ea4 #dc4c4e #e6bc24 #1a9765}.level-alt3 .grid .row .column.selected{background-image:linear-gradient(0deg, #1a9765, #e6bc24, #dc4c4e, #134ea4)}.level-alt3 .grid .row .column.dead{background-image:url("+f+"),radial-gradient(ellipse at center, #9b1f7a 0%, #6d155d 34%, #aa2071 64%, #301a27 100%);background-repeat:no-repeat;background-position:center center;background-size:contain;background-color:#9b1f7a}.player,.enemy{position:absolute;flex:1;width:100%;max-width:80px;margin-top:-10px;margin-bottom:10px;font-size:3rem;left:50%;top:60%;transform:translate(-50%, -50%)}.player img,.enemy img{max-width:100%}.player{z-index:1}.player ~ .enemy,.enemy ~ .player{top:38%;left:31%;height:90%}.player.angry::after,.enemy.angry::after{content:'';display:block;position:absolute;top:0;background-image:url("+g+");background-position:center center;background-size:cover;width:100%;height:50%;opacity:0;z-index:11;transition:opacity 0.3s ease-out}.player.angry.show::after,.enemy.angry.show::after{opacity:1}@keyframes animateIn{0%{opacity:0;transform:scale(0.6) translateY(-5%) translateX(-5%)}100%{opacity:1}}@keyframes animateOut{0%{opacity:1}100%{opacity:0;transform:scale(0.6) translateY(-5%) translateX(-5%)}}.splitscreen{width:100%;height:100%;margin:0}.splitscreen ul{--square-size: 10%;--gutter: 2px;padding:0;margin:0;display:grid;grid-template:repeat(var(--square-count), 1fr)/repeat(var(--square-count), 1fr);grid-column-gap:var(--gutter);grid-row-gap:var(--gutter);width:calc(100% + calc(var(--square-count) - 10) * var(--gutter));height:calc(100% + calc(var(--square-count) - 10) * var(--gutter));position:relative;overflow:hidden}.splitscreen ul::after{content:'';position:absolute;width:200%;height:200%;top:-50%;left:-50%;z-index:1;transform:rotate(30deg);background:linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.8) 50%, rgba(255,255,255,0) 100%)}.splitscreen ul li{display:block;height:calc(100% - var(--gutter));width:calc(100% - var(--gutter));background-color:#dc4c4e;animation-name:animateIn;animation-duration:250ms;animation-delay:calc(var(--animation-order) * 20ms);animation-fill-mode:both;animation-timing-function:ease-in-out}.splitscreen ul li.alt{background-color:#1659bb}.splitscreen.animate-out ul li{animation-name:animateOut}.splitscreen .label{position:absolute;left:50%;top:30%;width:85%;z-index:2;transform:translate(-50%, -50%);font-size:3.5rem;line-height:0.9;text-shadow:0.125rem 0.125rem 0.75rem #dc4c4e;color:#1659bb}.splitscreen .label .subtitle{font-size:2.5rem}.splitscreen .winning-player{position:absolute;left:36%;top:56%;width:85%;height:20%;z-index:2;transform:translate(-50%, -50%);background-repeat:no-repeat;background-position:center center;background-size:contain}.splitscreen .winning-player.type-player{background-image:url("+d+")}.splitscreen .winning-player.type-player.good-girl{background-image:url("+p+")}.splitscreen .winning-player.type-enemy{background-image:url("+h+")}.splitscreen .winning-player::after{display:block;content:'';position:absolute;left:67%;width:50%;height:100%;background-image:url("+b+");background-repeat:no-repeat;background-position:center center;background-size:contain}.splitscreen .scores{position:absolute;left:50%;top:73%;width:85%;z-index:2;transform:translate(-50%, -50%);font-size:2.5rem;line-height:1.2;text-shadow:0.125rem 0.125rem 0.75rem #1659bb;color:#dc4c4e}.splitscreen .buttons{position:absolute;display:flex;bottom:2%;left:0;width:100%;z-index:2;padding:0 10%;justify-content:space-between}.splitscreen.yellow-green ul li{background-color:#ff0}.splitscreen.yellow-green ul li.alt{background-color:green}.splitscreen.yellow-green .label{text-shadow:0.125rem 0.125rem 0.75rem #ff0;color:green}.splitscreen.yellow-green .scores{text-shadow:0.125rem 0.125rem 0.75rem green;color:#ff0}.splitscreen.blue-orange ul li{background-color:#1659bb}.splitscreen.blue-orange ul li.alt{background-color:#fc0}.splitscreen.blue-orange .label{text-shadow:0.125rem 0.125rem 0.75rem #1659bb;color:#fc0}.splitscreen.blue-orange .scores{text-shadow:0.125rem 0.125rem 0.75rem #fc0;color:#1659bb}.splitscreen.yellow-red ul li{background-color:#ff0}.splitscreen.yellow-red ul li.alt{background-color:#dc4c4e}.splitscreen.yellow-red .label{text-shadow:0.125rem 0.125rem 0.75rem #ff0;color:#dc4c4e}.splitscreen.yellow-red .scores{text-shadow:0.125rem 0.125rem 0.75rem #dc4c4e;color:#ff0}body{background-color:lightgreen}body.level-alt1{background-color:lightseagreen}body.level-alt2{background-color:burlywood}body .level-alt3{background-color:blueviolet}\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,n){"use strict";n.r(t),t.default=n.p+"7421fd73a5c3364b538555f653c69569.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"e635d38919bc71b737ef1a3d015dafc1.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"2be91f6c0369e2426da879cba7e6963d.svg"},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"level1",(function(){return v})),n.d(r,"level2",(function(){return w})),n.d(r,"level3",(function(){return k})),n.d(r,"level4",(function(){return x}));var o="empty",i="dead",a="start",s="selected",l="trap",c="entity",u="player",d="enemy",p="angry";function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t){var n=t.colConfig,r=(t.config,t.index),o=t.rowIndex,i=t.grid,a=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=n.type,this.state=a,this.borders=n.borders,this.index=r,this.grid=i,this.rowIndex=o,this.trapsInterval=null,this.trapsIntervalTime=a.trapsIntervalTime,this.trapsDelay=100,this.element=document.createElement("div"),this.element.classList.add("column"),this.setExtraClasses()}var t,n,r;return t=e,(n=[{key:"setExtraClasses",value:function(){var e=this;this.element.classList.add(this.type),this.type===l&&(this.element.classList.add("close","closed"),setTimeout((function(){e.startTogglingTraps()}),this.trapDelay))}},{key:"setType",value:function(e){if(this.type!==e){var t=this.type;this.type=e,this.switchClassesByType(t)}}},{key:"switchClassesByType",value:function(e){this.element.classList.remove(e),this.element.classList.add(this.type)}},{key:"isStart",value:function(){return this.type===a}},{key:"isSelected",value:function(){return this.type===s}},{key:"isEmpty",value:function(){return this.type===o}},{key:"isDead",value:function(){return this.type===i}},{key:"isTrap",value:function(){return this.type===l}},{key:"isClosedTrap",value:function(){return this.isTrap()&&this.element.classList.contains("closed")}},{key:"isSelected",value:function(){return this.type===s}},{key:"isBlocked",value:function(){return this.isDead()}},{key:"hasEnemy",value:function(){return null!==this.element.querySelector(".".concat(d))}},{key:"hasPlayer",value:function(){return null!==this.element.querySelector(".".concat(u))}},{key:"checkTrapClosed",value:function(e){e.target.classList.contains("close")?e.target.classList.add("closed"):e.target.classList.remove("closed")}},{key:"checkTrapOpened",value:function(e){e.target.classList.add("closed")}},{key:"startTogglingTraps",value:function(){this.element.addEventListener("transitionend",this.checkTrapClosed),this.element.addEventListener("transitionstart",this.checkTrapOpened);var e=this.element;this.trapsInterval=setInterval((function(){0===e.children.length&&e.classList.toggle("close")}),this.trapsIntervalTime)}},{key:"clearTogglingTraps",value:function(){this.element.removeEventListener("transitionend",this.checkTrapClosed),this.element.removeEventListener("transitionstart",this.checkTrapOpened),window.clearInterval(this.trapsInterval)}},{key:"finishLevel",value:function(){this.clearTogglingTraps()}}])&&h(t.prototype,n),r&&h(t,r),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(t){var n=t.noOfColumns,r=t.rowConfig,o=t.config,i=t.index,a=t.grid,s=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rowConfig=r,this.config=o,this.state=s,this.grid=a,this.index=i,this.columns=[],this.noOfColumns=n,this.element=document.createElement("div"),this.element.classList.add("row"),this.addColumns()}var t,n,r;return t=e,(n=[{key:"addColumns",value:function(){for(var e=0;e<this.noOfColumns;e++){var t=new f({colConfig:this.rowConfig[e],index:e,rowIndex:this.index,grid:this.grid,config:this.config,state:this.state});this.columns.push(t),this.element.appendChild(t.element)}}}])&&g(t.prototype,n),r&&g(t,r),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){var n=t.config,r=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=n,this.state=r,this.columns=[],this.rows=[],this.rowConfig=n.rows,this.noOfRows=n.rows.length,this.noOfColumns=n.rows[0].length,this.element=document.createElement("div"),this.element.classList.add("grid"),this.addRows(),this.finished=!1,this.player=null,this.enemy=null}var t,n,r;return t=e,(n=[{key:"addRows",value:function(){for(var e=this,t=0;t<this.noOfRows;t++){var n=new b({noOfColumns:this.noOfColumns,rowConfig:this.rowConfig[t],index:t,grid:this.element,config:this.config,state:this.state});this.rows.push(n),n.columns.forEach((function(t){e.columns.push(t)})),this.element.appendChild(n.element)}}},{key:"setPlayer",value:function(e){this.player=e}},{key:"setEnemy",value:function(e){this.enemy=e}},{key:"getStartColumn",value:function(){return this.columns.find((function(e){return e.type===a}))}},{key:"finishLevel",value:function(e){this.finished||(this.finished=!0,this.columns.forEach((function(e){e.finishLevel()})),this.player.finishLevel(),this.enemy.finishLevel(),this.element.dispatchEvent(new CustomEvent("cm:finish",{detail:{text:function(){return e}}})))}},{key:"checkDeadStops",value:function(){var e=this.config.deadStops;if(e&&0!==e){var t=this.columns,n=[];t.forEach((function(e,t){e.isSelected()||e.isTrap()||e.hasPlayer()||e.hasEnemy()||(n.push(t),e.setType(o))}));for(var r=function(e,t){for(var n=[];n.length<t;){var r=Math.floor(Math.random()*(e.length-1))+1;-1===n.indexOf(r)&&n.push(r)}return n}(n,e),a=0;a<r.length;a++)t[n[r[a]]].setType(i)}}},{key:"newLevel",value:function(){this.element.dispatchEvent(new CustomEvent("cm:new_level"))}},{key:"stopGame",value:function(){this.element.dispatchEvent(new CustomEvent("cm:stop_game"))}},{key:"removeElement",value:function(){this.element.parentNode.removeChild(this.element)}}])&&m(t.prototype,n),r&&m(t,r),e}(),v={rows:[[{type:i},{type:o,borders:["right"]},{type:s}],[{type:o},{type:i},{type:o,borders:["bottom"]}],[{type:o},{type:a},{type:o}]],borderStops:2,deadStops:2},w={rows:[[{type:s},{type:o,borders:["right"]},{type:o},{type:o,borders:["bottom"]}],[{type:o},{type:i},{type:i},{type:o}],[{type:i},{type:o,borders:["right"]},{type:o},{type:a}]],borderStops:3,deadStops:3},k={rows:[[{type:o},{type:o,borders:["right"]},{type:a},{type:o,borders:["bottom"]},{type:o}],[{type:i},{type:o},{type:i},{type:i},{type:o}],[{type:o},{type:o},{type:o},{type:o},{type:o}],[{type:i},{type:o},{type:o},{type:i},{type:i}],[{type:i},{type:o,borders:["right"]},{type:o},{type:s},{type:o}]],borderStops:3,deadStops:7},x={rows:[[{type:o},{type:i,borders:["right"]},{type:a},{type:i,borders:["bottom"]},{type:o}],[{type:i},{type:o},{type:i},{type:i},{type:o}],[{type:o},{type:l},{type:o},{type:l},{type:o}],[{type:i},{type:o},{type:o},{type:i},{type:i}],[{type:i},{type:o,borders:["right"]},{type:o},{type:s},{type:o}]],borderStops:3,deadStops:9},A=n(11),C=n.n(A),L=function(e){var t=e.width,n=e.height,r=e.matrix,o=e.startCoords,i=e.endCoords,a=new C.a.Grid(t,n,r);return(new C.a.AStarFinder).findPath(o[0],o[1],i[0],i[1],a)};function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function e(t){var n=t.grid,r=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.grid=n,this.state=r,this.type=c,this.noOfAngry=0,this.element=document.createElement("div")}var t,n,r;return t=e,(n=[{key:"angry",value:function(){var e=this.element;if(e.classList.add(p),e.classList.add("show"),setTimeout((function(){e.classList.remove(p,"show")}),500),this.type===u&&(this.noOfAngry+=1,3===this.noOfAngry)){this.noOfAngry=0;var t=this.createMatrix(),n=t.matrix,r=t.startCoords,o=t.endCoords,i=this.grid.noOfColumns,a=this.grid.noOfRows,s=L({width:i,height:a,matrix:n,startCoords:r,endCoords:o});s&&0!==s.length||this.grid.checkDeadStops()}}},{key:"moveTo",value:function(e){var t=e[0],n=e[1],r=this.grid.columns.find((function(e){return e.index===t&&e.rowIndex===n}));r.element.appendChild(this.element),r.isSelected()?this.grid.finishLevel(this.type):this.type===u&&this.grid.checkDeadStops()}},{key:"createMatrix",value:function(){var e=[],t=[0,0],n=[0,0];return this.grid.rows.forEach((function(r,o){var i=[];r.columns.forEach((function(e,r){e.hasEnemy()&&(t=[r,o]),"selected"===e.type&&(n=[r,o]),e.isBlocked()?i.push(1):i.push(0)})),e.push(i)})),{matrix:e,startCoords:t,endCoords:n}}}])&&O(t.prototype,n),r&&O(t,r),e}(),W=n(8),S=n(9);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={},P=function(e){var t=function(e){return e.touches||e.originalEvent.touches}(e)[0],n=t.clientX,r=t.clientY;T=N({},T,{xDown:n,yDown:r})};function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(e){var n,r,o,i=e.grid,a=e.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=I(t).call(this,{grid:i,state:a}))||"object"!==_(o)&&"function"!=typeof o?q(r):o;var s=a.playerSexe;n.type=u,n.element.classList.add(u);var l=0===s?W.default:S.default;return n.element.innerHTML="<img alt='player' src=".concat(l," />"),i.setPlayer(q(n)),n.touchMove=n.onTouchMove.bind(q(n)),n.keyPress=n.onKeyPress.bind(q(n)),n.addEvents(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,e),n=t,(r=[{key:"position",value:function(){var e=this.grid.columns.find((function(e){return e.element.querySelector("."+u)}));return e?[e.index,e.rowIndex]:(console.log("Player::position => This should not happen"),[-1,-1])}},{key:"move",value:function(e){var t=this.position(),n=t[0],r=t[1],o=n,i=r;switch(e){case"up":i>-1&&(i-=1);break;case"down":i<this.grid.noOfRows-1&&(i+=1);break;case"left":o>-1&&(o-=1);break;case"right":o<this.grid.noOfColumns-1&&(o+=1)}if(o>-1&&i>-1){var a=this.grid.columns.find((function(e){return e.index===o&&e.rowIndex===i}));a.isBlocked()||a.isClosedTrap()?this.angry():this.moveTo([o,i])}}},{key:"onTouchMove",value:function(e){var t=function(e){var t=T,n=t.xDown,r=t.yDown;if(n&&r){var o=e.touches[0],i=n-o.clientX,a=r-o.clientY,s="";return s=Math.abs(i)>Math.abs(a)?i>0?"left":"right":a>0?"up":"down",T=N({},T,{xDown:null,yDown:null}),s}}(e);t&&this.move(t)}},{key:"onKeyPress",value:function(e){var t,n="down"===(t=e.key.toLowerCase())||"arrowdown"===t?"down":"up"===t||"arrowup"===t?"up":"left"===t||"arrowleft"===t?"left":("right"===t||"arrowright"===t)&&"right";n&&this.move(n)}},{key:"onDoubleClick",value:function(e){return e.preventDefault(),!1}},{key:"finishLevel",value:function(){this.removeEvents()}},{key:"addEvents",value:function(){document.addEventListener("touchstart",P,!1),document.addEventListener("touchmove",this.touchMove,!1),document.addEventListener("keyup",this.keyPress,!1),document.addEventListener("dblclick",this.onDoubleClick,!1)}},{key:"removeEvents",value:function(){document.removeEventListener("touchstart",P,!1),document.removeEventListener("touchmove",this.touchMove,!1),document.removeEventListener("keyup",this.keyPress,!1),document.addEventListener("dblclick",this.onDoubleClick,!1)}}])&&D(n.prototype,r),o&&D(n,o),t}(M),B=n(10);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var U=function(e){function t(e){var n,r,o,i=e.grid,a=e.state;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=G(t).call(this,{grid:i,state:a}))||"object"!==F(o)&&"function"!=typeof o?J(r):o).type=d,n.state=a,n.element.classList.add(d),n.element.innerHTML="<img alt='player' src=".concat(B.default," />"),n.stepInterval,n.intervalSpeed=500,n.walkDelay=2e3,i.setEnemy(J(n)),a.debug||n.start(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,e),n=t,(r=[{key:"start",value:function(){var e=this;setTimeout((function(){e.startWalking()}),this.walkDelay)}},{key:"startWalking",value:function(){var e=this;this.step(),this.stepInterval=setInterval((function(){e.step()}),this.intervalSpeed)}},{key:"step",value:function(){var e=this.createMatrix(),t=e.matrix,n=e.startCoords,r=e.endCoords,o=this.grid.noOfColumns,i=this.grid.noOfRows,a=L({width:o,height:i,matrix:t,startCoords:n,endCoords:r});if(a&&a.length>1){var s=a[1][0],l=a[1][1],c=this.grid.columns.find((function(e){return e.index===s&&e.rowIndex===l}));c.isBlocked()||c.isClosedTrap()?this.angry():this.moveTo(a[1])}}},{key:"finishLevel",value:function(){this.stopWalking()}},{key:"stopWalking",value:function(){clearInterval(this.stepInterval)}}])&&H(n.prototype,r),o&&H(n,o),t}(M),X=function(e){var t,n=e.state,o=e.level,i=e.container;t="level-alt".concat(Math.floor(4*Math.random())),document.body.classList.remove("level-alt0","level-alt1","level-alt2","level-alt3"),document.body.classList.add(t);var a=r["level".concat(o)],s=new y({config:a,state:n});i.appendChild(s.element);var l=s.getStartColumn(),c=new R({grid:s,state:n}),u=new U({grid:s,state:n});return l.element.appendChild(c.element),l.element.appendChild(u.element),{grid:s,player:c,enemy:u}};function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t){var n=t.grid,r=t.squareCount,o=void 0===r?10:r,i=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.grid=n,this.squareCount=o,this.element=document.createElement("div"),this.element.classList.add("splitscreen"),this.element.classList.add("hidden"),this.score=0,this.enemyScore=0;var a=i.playerSexe;this.stopGame=this.onStopGame.bind(this),this.nextLevel=this.onNextLevel.bind(this),this.addItems(),this.addTitles(),this.addPlayers(a),this.addScores(),this.addButtons()}var t,n,r;return t=e,(n=[{key:"getPositiveLine",value:function(){var e=["Way to go!","Well done!","Really good!"];return e[Math.floor(Math.random()*e.length)]}},{key:"getNegativeLine",value:function(){var e=["Keep it up!","Better luck next time!","Too bad!"];return e[Math.floor(Math.random()*e.length)]}},{key:"addItems",value:function(){var e=document.createElement("ul");e.style.setProperty("--square-count",this.squareCount);for(var t=0;t<this.squareCount;t++)for(var n=0;n<this.squareCount;n++){var r=document.createElement("li"),o=(n+t)%2;r.style.setProperty("--animation-order",n+t),0===o&&r.classList.add("alt"),e.appendChild(r)}this.element.appendChild(e)}},{key:"addTitles",value:function(){var e=document.createElement("div");e.classList.add("label","type-player","hidden"),e.innerHTML='You won!<br><span class="subtitle">'+this.getPositiveLine()+"</span>",this.element.appendChild(e);var t=document.createElement("div");t.classList.add("label","type-enemy","hidden"),t.innerHTML='You lost!<br><span class="subtitle">'+this.getNegativeLine()+"</span>",this.element.appendChild(t)}},{key:"addPlayers",value:function(e){var t=document.createElement("div"),n=0===e?"good-guy":"good-girl";t.classList.add("winning-player",n,"type-player","hidden"),this.element.appendChild(t);var r=document.createElement("div");r.classList.add("winning-player","type-enemy","hidden"),this.element.appendChild(r)}},{key:"addScores",value:function(){var e=document.createElement("div");e.classList.add("scores","hidden");var t=document.createElement("div");t.classList.add("player-score"),t.innerHTML='You: <span id="player_score">'+this.score+"</span>";var n=document.createElement("div");n.classList.add("enemy-score"),n.innerHTML='Me: <span id="enemy_score">'+this.enemyScore+"</span>",e.appendChild(t),e.appendChild(n),this.element.appendChild(e)}},{key:"showContent",value:function(e){var t=e.type,n=e.variant,r=this.element,o="red-blue";1===n&&(o="yellow-green"),2===n&&(o="blue-orange"),3===n&&(o="yellow-red"),r.classList.remove("hidden","animate-out"),r.classList.add(o,"show"),setTimeout((function(){var e=r.querySelector(".label.type-"+t);e.classList.remove("hidden"),e.classList.add("show");var n=r.querySelector(".buttons");n.classList.remove("hidden"),n.classList.add("show");var o=r.querySelector(".winning-player.type-"+t);o.classList.remove("hidden"),o.classList.add("show");var i=r.querySelector(".scores");i.classList.remove("hidden"),i.classList.add("show")}),1e3)}},{key:"hideContent",value:function(){var e=this.element,t=e.querySelector(".label.show");t.classList.add("hidden"),t.classList.remove("show");var n=e.querySelector(".buttons");n.classList.add("hidden"),n.classList.remove("show");var r=e.querySelector(".winning-player.show");r.classList.add("hidden"),r.classList.remove("show");var o=e.querySelector(".scores");o.classList.add("hidden"),o.classList.remove("show"),e.classList.add("animate-out"),setTimeout((function(){e.classList.add("hidden"),e.classList.remove("yellow-green","blue-orange","yellow-red")}))}},{key:"onStopGame",value:function(){this.grid.stopGame()}},{key:"onNextLevel",value:function(){this.grid.newLevel()}},{key:"addButtons",value:function(){var e=document.createElement("div");e.classList.add("buttons","hidden");var t=document.createElement("button");t.classList.add("stop","blue"),t.textContent="Stop",t.addEventListener("click",this.stopGame,!1);var n=document.createElement("button");n.classList.add("next-level"),n.textContent="Next",n.addEventListener("click",this.nextLevel,!1),e.appendChild(t),e.appendChild(n),this.element.appendChild(e)}},{key:"setScores",value:function(e){var t=e.score,n=e.enemyScore,r=this.element.querySelector("#player_score"),o=this.element.querySelector("#enemy_score");this.score=t,this.enemyScore=n,r.textContent=this.score,o.textContent=this.enemyScore}},{key:"removeEvents",value:function(){var e=this.element.querySelector("button.stop"),t=this.element.querySelector("button.next-level");e.removeEventListener("click",this.stopGame,!1),t.removeEventListener("click",this.nextLevel,!1)}},{key:"removeElement",value:function(){this.element.parentNode.removeChild(this.element)}}])&&Q(t.prototype,n),r&&Q(t,r),e}(),K={xDown:null,yDown:null,level:1,score:0,enemyScore:0,maxLevel:4,rows:0,columns:0,loading:!1,playing:!1,playerSexe:0,borders:[],moves:0,canNotMoves:0,maxCanNotMoves:4,borderStops:0,deadStops:0,trapsIntervalTime:4e3,debug:!1};n(28);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te,ne,re,oe=Z({},K,{playing:!1,levelsFinished:0}),ie=document.body,ae=document.querySelector(".home"),se=ae.querySelector(".step1"),le=ae.querySelector(".step2"),ce=ae.querySelector("button.button-uitleg"),ue=ae.querySelector("button.button-start"),de=ae.querySelector("input.player-selector.good-guy"),pe=ae.querySelector("input.player-selector.good-girl"),he=document.querySelector(".container"),fe=function(e){oe=Z({},oe,{playerSexe:e.target.value})};ce.addEventListener("click",(function(){se.classList.add("hidden"),se.classList.remove("show"),le.classList.add("show"),le.classList.remove("hidden")})),ue.addEventListener("click",(function(){oe=Z({},oe,{playing:!0}),ve(),se.classList.remove("hidden"),se.classList.add("show"),le.classList.remove("show"),le.classList.add("hidden")})),de.addEventListener("change",fe),pe.addEventListener("change",fe);var ge=function(e){var t=e.detail.text();!function(e){var t=oe,n=t.score,r=t.enemyScore;e===u?n+=1:r+=1,oe=Z({},oe,{score:n,enemyScore:r})}(t);var n=oe,r=n.score,o=n.enemyScore;te.setScores({score:r,enemyScore:o});var i=te.element,a=Math.floor(4*Math.random());setTimeout((function(){i.classList.contains("show")||(he.classList.remove("show"),he.classList.add("hidden"),te.showContent({type:t,variant:a}))}),300)},be=function(){var e=oe,t=e.level,n=e.levelsFinished,r=e.maxLevel,o=t+1,i=n+1;te.hideContent(),oe=i===r?Z({},K,{playing:!1,levelsFinished:0}):Z({},oe,{level:o,levelsFinished:i}),ye(),ve()},me=function(){oe=Z({},K,{playing:!1,levelsFinished:0}),ye(),ve()},ye=function(){var e;re.removeEvents(),te.removeEvents(),(e=ne).element.removeEventListener("cm:finish",ge),e.element.removeEventListener("cm:new_level",be),e.element.removeEventListener("cm:stop_game",me),ne.removeElement(),te.removeElement(),ne=void 0,re=void 0,void 0,te=void 0},ve=function(){var e,t=oe,n=t.playing,r=t.level;if(n){ae.classList.remove("show"),ae.classList.add("hidden"),he.classList.remove("hidden"),he.classList.add("show");var o=X({state:oe,level:r,container:he});ne=o.grid,re=o.player,o.enemy,te=new V({grid:ne,squareCount:10,state:oe}),ie.appendChild(te.element),(e=ne).element.addEventListener("cm:finish",ge),e.element.addEventListener("cm:new_level",be),e.element.addEventListener("cm:stop_game",me)}else ae.classList.remove("hidden"),ae.classList.add("show"),he.classList.remove("show"),he.classList.add("hidden")}}]);